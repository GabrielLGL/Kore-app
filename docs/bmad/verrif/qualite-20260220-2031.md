# Code mort & qualité — 20260220-2031

## Résumé : 46 problèmes trouvés

---

### Code mort
✅ Aucun problème détecté.
- Aucun import inutilisé
- Aucun style StyleSheet non référencé
- Aucun fichier orphelin
- Aucun TODO/FIXME/HACK
- Aucun bloc de code commenté

---

### TypeScript
✅ Aucun `any` en production (présents uniquement dans les fichiers de test — acceptable).
✅ Aucun cast `as` suspect.
✅ Aucun paramètre de fonction sans type.

---

### Logs de production ⚠️ (11 occurrences)

| Fichier | Ligne | Problème |
|---------|-------|----------|
| `hooks/useProgramManager.ts` | 85 | `console.error('Failed to save program:', error)` non gardé |
| `hooks/useProgramManager.ts` | 104 | `console.error('Failed to duplicate program:', error)` non gardé |
| `hooks/useProgramManager.ts` | 124 | `console.error('Failed to delete program:', error)` non gardé |
| `hooks/useProgramManager.ts` | 159 | `console.error('Failed to save session:', error)` non gardé |
| `hooks/useProgramManager.ts` | 208 | `console.error('Failed to duplicate session:', error)` non gardé |
| `hooks/useProgramManager.ts` | 227 | `console.error('Failed to delete session:', error)` non gardé |
| `hooks/useProgramManager.ts` | 253 | `console.error('Failed to move session:', error)` non gardé |
| `hooks/useSessionManager.ts` | 108 | `console.error('Failed to add exercise:', error)` non gardé |
| `hooks/useSessionManager.ts` | 148 | `console.error('Failed to update targets:', error)` non gardé |
| `hooks/useSessionManager.ts` | 170 | `console.error('Failed to remove exercise:', error)` non gardé |
| `hooks/useSessionManager.ts` | 213 | `console.error('Failed to reorder exercises:', error)` non gardé |

**Fix attendu :**
```typescript
// Avant :
console.error('Failed to save program:', error)
// Après :
if (__DEV__) console.error('Failed to save program:', error)
```

---

### Valeurs hardcodées (35 occurrences)

#### Couleurs hex hardcodées (4 occurrences)

| Fichier | Ligne | Valeur |
|---------|-------|--------|
| `components/CustomModal.tsx` | 87 | `shadowColor: '#000'` |
| `components/BottomSheet.tsx` | 137 | `shadowColor: '#000'` |
| `components/AlertDialog.tsx` | 145 | `shadowColor: '#000'` |
| `screens/HomeScreen.tsx` | 389 | `shadowColor: '#000'` |

#### Couleurs rgba hardcodées (5 occurrences)

| Fichier | Ligne | Valeur |
|---------|-------|--------|
| `components/RestTimer.tsx` | 177 | `rgba(255,255,255,0.08)` |
| `screens/ChartsScreen.tsx` | 277 | `rgba(0, 122, 255, ${opacity})` (config graphique) |
| `screens/ChartsScreen.tsx` | 278 | `rgba(255, 255, 255, ${opacity})` (config graphique) |
| `components/WorkoutExerciseCard.tsx` | 249 | `rgba(52, 199, 89, 0.12)` |
| `components/WorkoutExerciseCard.tsx` | 321 | `rgba(0,122,255,0.15)` |

#### Nombres magiques — HomeScreen.tsx (26 occurrences)

| Fichier | Ligne | Valeur | Token attendu |
|---------|-------|--------|---------------|
| `screens/HomeScreen.tsx` | 378 | `paddingHorizontal: 20` | `spacing.lg` (24) |
| `screens/HomeScreen.tsx` | 379 | `paddingTop: 10` | `spacing.sm` (8) |
| `screens/HomeScreen.tsx` | 380 | `marginBottom: 85` | constante nommée (tab bar height) |
| `screens/HomeScreen.tsx` | 385 | `padding: 16` | `spacing.md` ✓ |
| `screens/HomeScreen.tsx` | 386 | `borderRadius: 12` | `borderRadius.md` ✓ |
| `screens/HomeScreen.tsx` | 388 | `elevation: 8` | constante nommée |
| `screens/HomeScreen.tsx` | 390 | `height: 4` | constante nommée |
| `screens/HomeScreen.tsx` | 392 | `shadowRadius: 5` | constante nommée |
| `screens/HomeScreen.tsx` | 400 | `padding: 12` | `spacing.sm` (8) ou `spacing.md` (16) |
| `screens/HomeScreen.tsx` | 401 | `borderRadius: 10` | `borderRadius.sm` (8) ou `borderRadius.md` (12) |
| `screens/HomeScreen.tsx` | 407 | `padding: 14` | `spacing.sm` ou `spacing.md` |
| `screens/HomeScreen.tsx` | 408 | `borderRadius: 10` | `borderRadius.sm` ou `borderRadius.md` |
| `screens/HomeScreen.tsx` | 411 | `fontSize: 15` | `fontSize.sm` (14) ou `fontSize.md` (16) |
| `screens/HomeScreen.tsx` | 418 | `borderBottomWidth: 0.5` | constante nommée |
| `screens/HomeScreen.tsx` | 422 | `fontSize: 22` | constante nommée |
| `screens/HomeScreen.tsx` | 423 | `marginRight: 20` | `spacing.lg` (24) ou `spacing.md` (16) |
| `screens/HomeScreen.tsx` | 424 | `width: 30` | constante nommée |
| `screens/HomeScreen.tsx` | 427 | `fontSize: 17` | `fontSize.md` (16) ou `fontSize.lg` (18) |
| `screens/HomeScreen.tsx` | 431 | `marginTop: 20` | `spacing.lg` (24) |
| `screens/HomeScreen.tsx` | 432 | `marginBottom: 10` | `spacing.sm` (8) |
| `screens/HomeScreen.tsx` | 435 | `marginLeft: 5` | `spacing.xs` (4) |
| `screens/HomeScreen.tsx` | 440 | `paddingHorizontal: 15` | `spacing.md` (16) |
| `screens/HomeScreen.tsx` | 441 | `paddingVertical: 10` | `spacing.sm` (8) |
| `screens/HomeScreen.tsx` | 442 | `borderRadius: 10` | `borderRadius.sm` ou `borderRadius.md` |
| `screens/HomeScreen.tsx` | 443 | `marginRight: 10` | `spacing.sm` (8) |

#### Nombres magiques — autres composants

| Fichier | Ligne | Valeur | Token attendu |
|---------|-------|--------|---------------|
| `components/SetItem.tsx` | 50 | `padding: 15` | `spacing.md` (16) |
| `components/SetItem.tsx` | 52 | `marginBottom: 10` | `spacing.sm` (8) |
| `components/SessionItem.tsx` | 77 | `marginBottom: 10` | `spacing.sm` (8) |
| `components/SessionItem.tsx` | 82 | `padding: 15` | `spacing.md` (16) |
| `components/SessionItem.tsx` | 83 | `padding: 15` | `spacing.md` (16) |
| `components/SessionItem.tsx` | 84 | `fontSize: 17` | `fontSize.md` ou `fontSize.lg` |
| `components/SessionItem.tsx` | 85 | `fontSize: 13` | `fontSize.xs` (12) ou `fontSize.sm` (14) |

---

### Conventions
✅ Aucune violation détectée.
- Tous les fichiers composants : PascalCase ✓
- Tous les hooks : préfixe `use` ✓
- Variables : camelCase ✓
- Aucun fichier orphelin ✓

---

## Parallélisation des corrections

| # | Problème | Fichiers | Effort | Groupe |
|---|----------|----------|--------|--------|
| 1 | 11 console.error non gardés | `useProgramManager.ts`, `useSessionManager.ts` | Faible | A |
| 2 | 4 shadowColor '#000' | `CustomModal.tsx`, `BottomSheet.tsx`, `AlertDialog.tsx` | Faible | B |
| 3 | shadowColor + magic numbers HomeScreen | `HomeScreen.tsx` | Moyen | C |
| 4 | rgba + magic numbers composants | `WorkoutExerciseCard.tsx`, `RestTimer.tsx` | Faible | D |
| 5 | rgba ChartsScreen | `ChartsScreen.tsx` | Faible | D |
| 6 | Magic numbers SetItem + SessionItem | `SetItem.tsx`, `SessionItem.tsx` | Faible | D |

**Groupes :** même lettre = mêmes fichiers (séquentiel). Lettres différentes = parallèle.
- **Claude Code 1 :** Groupe A (logs production)
- **Claude Code 2 :** Groupe B (shadowColor composants partagés)
- **Claude Code 3 :** Groupes C + D (HomeScreen + composants restants)
