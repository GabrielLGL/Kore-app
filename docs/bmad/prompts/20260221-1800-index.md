<!-- v1.0 — 2026-02-21 -->
# Prompt — jsi-bridgeless + ai-ux — 20260221-1800

## Demande originale
> j'ai deja refais npm run android [...] BUILD SUCCESSFUL in 47s (628 tasks: 54 executed, 574 up-to-date)
> warning JSI toujours présent + OpenAI 429 quand je lance la génération de programme

## Diagnostic approfondi

### Warning JSI (root cause confirmée)
Le build était **incrémental** (54/628 tâches) → rebuild partiel, pas le problème.
Root cause réelle : WatermelonDB 0.28.x utilise l'ancienne JSI bridge registration,
incompatible avec Bridgeless mode (New Architecture Expo 52).
Un clean build ne change rien. Seul fix possible : `jsi: false` ou upgrade WatermelonDB.

### Warning OpenAI 429 (deux bugs)
1. `PROVIDER_LABELS` incomplet → badge affiche "Offline" pour tous les providers cloud
2. Fallback silencieux → utilisateur ne sait pas que son provider cloud a échoué

## Groupes générés
| Groupe | Rapport | Fichiers | Vague | Statut |
|--------|---------|----------|-------|--------|
| A | `20260221-1800-jsi-bridgeless-A.md` | `model/index.ts`, `gradle.properties` | 1 | ⏳ |
| B | `20260221-1800-ai-ux-B.md` | `AssistantScreen.tsx`, `aiService.ts`, `openaiProvider.ts`, `types.ts` | 1 | ⏳ |

## Relation avec les anciens rapports
- `20260221-1730-warnings-A.md` → ✅ Résolu (commentaire documentaire) — remplacé par A (fix réel)
- `20260221-1730-warnings-B.md` → intégré dans B (retry logique inclus)

## Ordre d'exécution
Groupes A et B **indépendants** — lancer en parallèle.
